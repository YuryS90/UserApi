{% extends "./layouts/main.twig" %}

{% block content %}
    <div class="content-header">
        <div class="container-fluid">
            <div class="row mb-2">
                <div class="col-sm-6">
                    <h1 class="m-0">Редактировать пользователя</h1>
                </div>
                <div class="col-sm-6">
                    <ol class="breadcrumb float-sm-right">
                        <li class="breadcrumb-item">
                            <a href="{{ url_for('home') }}">Главная</a>
                        </li>
                        <li class="breadcrumb-item">
                            <a href="{{ url_for('user.index') }}">Пользователи</a></li>
                        <li class="breadcrumb-item">
                            <a href="{{ url_for('user.show', { 'user': user.id }) }}">{{ user.name }}</a></li>
                        <li class="breadcrumb-item active">Редактирование</li>
                    </ol>
                </div>
            </div>
        </div>
    </div>

    <section class="content">
        <div class="container-fluid">
            <div class="row">
                <form id="quickForm" novalidate="novalidate"
                      action="{{ url_for('user.update', { 'user': user.id }) }}" method="post">

                    <input type="hidden" name="_METHOD" value="PATCH">
                    {{ csrf_field() | raw }}

                    {#                    <div class="form-group"> #}
                    {#                        <input type="email" name="email" class="form-control" value="{{ user.email }}" placeholder="Введите email"> #}
                    {#                    </div> #}

                    {#                    <div class="form-group"> #}
                    {#                        <input type="text" name="password" class="form-control" placeholder="Введите пароль"> #}
                    {#                    </div> #}

                    <div class="form-group">
                        <input type="text" name="name" class="form-control" value="{{ user.name }}"
                               placeholder="Введите имя">
                    </div>

                    <div class="form-group">
                        <input type="text" name="address" class="form-control" value="{{ user.address }}"
                               placeholder="Введите адрес">
                    </div>

                    <div class="form-group">
                        <select name="roles_id" class="custom-select form-control-border">
                            <option disabled selected>Выбрать роль:</option>
                            {% for role in roles %}
                                <option {{ (role.idRole == user.rolesId) ? ' selected' : '' }}
                                        value="{{ user.rolesId }}">{{ role.nameRole }}
                                </option>
                            {% endfor %}
                        </select>
                    </div>

                    <div class="form-group">
                        <input type="submit" class="btn btn-primary" value="Изменить">
                    </div>
                </form>
            </div>
        </div>
    </section>
{% endblock %}